'use client';

import { useEffect, useState } from 'react';
import axios from 'axios';
import ProjectCard from '@/components/ProjectCard';

export default function DashboardPage() {
  const [projects, setProjects] = useState([]);
  const [keyword, setKeyword] = useState('');
  const [page, setPage] = useState(1);
  const [pagination, setPagination] = useState({ total: 0, totalPages: 1 });

  const fetchProjects = async () => {
    try {
      const res = await axios.get('/api/projects/list', {
        params: { page, keyword },
      });
      setProjects(res.data.data);
      setPagination(res.data.pagination);
    } catch (error) {
      console.error('获取项目失败:', error);
    }
  };

  useEffect(() => {
    fetchProjects();
  }, [page, keyword]);

  return (
    <div className="p-6">
      <input
        type="text"
        placeholder="