cat << 'EOF' > .husky/pre-commit
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"
# 调用模块化脚本
.husky/lint.sh
echo "?? Running ESLint & Prettier checks..."

npx eslint . --config eslint.config.js --ext .ts,.tsx
npx prettier --check .

status=$?

if [ $status -ne 0 ]; then
  echo "? Lint or Prettier checks failed. Commit aborted."
  exit $status
fi

echo "? Lint & format checks passed."
EOF

chmod +x .husky/pre-commit
